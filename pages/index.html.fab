âœ³ (ns site.fabricate.docs.intro
(:require [garden.core :as garden]
[site.fabricate.prototype.read :as read]
[site.fabricate.prototype.read.grammar :as grammar]
[site.fabricate.prototype.page :refer :all]
[garden.stylesheet :as stylesheet])) ğŸ”š

âœ³ (def page-css
   (garden/css
    (garden.stylesheet/at-import  "https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Inter:wght@900&display=swap")
    [:body {:background-image "linear-gradient(34deg, #9CC0DA, #ECD8D8 45%)"
            :font-family "'Inria Sans', sans-serif"
            :font-size "22px"}]
    [:header {:font-family "Inter"}
     [:h1 {:font-size "8rem"
           :color "#dc4032"
           :line-height "7rem"}]]
    [:.red {:color "#FF0000"}]
    [:pre {:white-space "pre-wrap"
           :font-size "0.95rem"}]
    [:.scarlet  {:color "#a1010c"}]
    [:.vermilion {:color "#dc4032"}]
    [:.txt-1999 {:text-transform "uppercase"}]
    [:code {:color "#333"}]
    [:article {:color "#222"
               :max-width "60rem"}]
    [:p {:margin-bottom "2rem"}]
    )) ğŸ”š

âœ³ (def metadata {:title "Introduction"
                  :page-style page-css}) ğŸ”š


âœ³= [:header [:h1 "fab" [:br] "ri" [:br]  "cate"] ] ğŸ”š

Introducing a new kind of static website generator.

âœ³= [:header [:h2 {:class "big"} "ğŸ¦© it starts and ends with .fab"]]ğŸ”š

Your thoughts start in a file that's mostly plain text, with some code thrown in to add headers (or also, literally anything else code can make). You can go up and down the ladder from "mostly words" to "computational artwork" at your own pace.

This page started its life as âœ³= (in-code "index.html.fab") ğŸ”š. Along the way, Fabricate gave it some help to make sure it looks the way a webpage should look.

âœ³= [:header [:h2 {:class "big"} "ğŸ“ learn HTML, not how a markdown parser works"]] ğŸ”š

Do you have time to remember whether your markdown parser lets you put a linebreak inside a table cell? Or whether your parser will let you fall back to inline HTML correctly? Yeah, me either. But sometimes you want to make something just a little more nested than what 'flat' markup formats easily allow. Why not just do it with a format that doesn't try to hide HTML, but is easier than writing a bunch of opening and closing tags by hand?

âœ³= [:header  [:h2 {:class "big"} "ğŸ£ CSS for amateurs"]] ğŸ”š

The CSS on this page was written by hand at the top, using an inline stylesheet. Is it "best practice" to do this for every page? Does it "scale?" Maybe not. But here's another question:

âœ³= [:header [:h4 "Was it fun to create? ğŸ˜€"]]ğŸ”š

Writing this page, for me, the answer was "yes!" I'm not very knowledgable about CSS. A static website is a perfect low-stakes place to "do it wrong." I didn't have to jump back and forth between this file and "main.css" and "main.scss" and remember what variable I used to define the colors I want. I just iterated on the one file until I had the nice soothing background gradient you see here and some decent proportions.

âœ³= [:header [:h2 {:class "txt-1999"} "ğŸ“Ÿ making websites like it's 1999 "]] ğŸ”š
âœ³=[:header  [:h4 {:class "txt-1999"} "(but maybe with webfonts? I like those)"]]ğŸ”š

You really shouldn't need to learn what a CSS preprocessor is and its special syntax to get started with picking the right shade of âœ³=[:s {:class "red"} "red"]ğŸ”š âœ³=[:s {:class "scarlet"} "scarlet"]ğŸ”š âœ³=[:b {:class "vermilion"} "vermilion"]ğŸ”š you want for your headers and banners.

speaking of which:

âœ³= [:header [:h2 "A gentler environment for learning Hiccup  + Clojure"]] ğŸ”š

Okay, the reason why a lot of this works is because there are some pretty intense schemas for HTML backing it all up. But I promise you don't really need to worry about it to make a page like this, honest!

Here's the markup that generated this page:

âœ³= (read/include-source {:details "look â¬‡ï¸"} "./pages/index.html.fab") ğŸ”š

Most of it is just defining the look! The actual basics of creating a page aren't much more complicated than remembering the name of what you want to include and putting it in using fabricate's special ~emoji delimiters~âœ¨: âœ³=(first grammar/delimiters)ğŸ”š âœ³=(last grammar/delimiters)ğŸ”š
âœ³= (code {:class "big"} (str (first grammar/delimiters) "(header {:level :h3} \"some heading text\")" (last grammar/delimiters))) ğŸ”š

Once you get the hang of it, you'll be writing more code than you even knew you could!

âœ³= [:header [:h2 "ğŸŒ  S-express yourself"]] ğŸ”š

Under the hood, there's a programming language. That language is Clojure; it's why everything starts and ends with the parentheses like the one you saw creating âœ³=(in-code "(header \"text\")")ğŸ”š above.

You can make anything you could make in Clojure in Fabricate. Fabricate makes it a lot easier to get what you create (whether it's words, pictures, data visualizations, or other stuff) into a real HTML page. Fabricate uses Clojure because some very powerful tools for working with HTML and with structured data like HTML have been written in Clojure.

I hope Fabricate puts more of the power of tools like those in your hands, so you can make what you want to make with it.


âœ³= [:header [:h3 "ğŸ“š Further reading"]] ğŸ”š

If you're interested in more about how fabricate works, you can take a look at these articles:

âœ³= [:ul [:li [:p [:a {:href "/finite-schema-machines.html"} "Organizing Computation With Finite Schema Machines"]]
[:p "Fabricate uses its own implementation of a finite-state machine to determine what functions to use to process different types of pages. This post explains how that implementation works."]]] ğŸ”š
